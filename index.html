<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <title>Sign-up form</title>
</head>
<body>
    <div class="hero-image">
        <img src="./assests/forest.jpg" />
        <div class="branding">
            <img src="./assests/odin-lined.png" />
            <h1>Odin</h1>
        </div>
        <p class="credits">
            Photo by <a href="https://unsplash.com/@haliewestphoto?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Halie West</a> on <a href="https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
        </p> 
    </div>
    <main>
        <section id="first">
            <div>
                <p>
                    <strong>
                        This is not a real online service! You know you need something like this in your life to help you realize your deepest dreams.<br/>Sign up <em>now</em> to get started.
                    </strong>        
                </p>
                <br/>
                <p><strong>You <em>know</em> you want to</strong></p>
            </div>
        </section>
        <section id="second">
                <h3>Let's do this!</h3>
                <form method="post">
                    <div class="name">
                        <div class="field">
                            <label for="first_name">FIRST NAME</label>
                            <input type="text" id="first_name" name="first_name" required/>
                        </div>
                        <div class="field">
                            <label for="last_name">LAST NAME</label>
                            <input type="text" id="last_name" name="last_name" required>
                        </div>
                    </div>
                    <div class="communication">
                        <div class="field">
                            <label for="email">EMAIL</label>
                            <input type="email" id="email" name="email" pattern="\([a-z]+[0-9]+|[a-z]+|[a-z]+[\-\|\!\&]+[a-z]+)@[a-z]*.[a-z]*\g" required>
                        </div>
                        <div class="field">
                            <label for="phone_num">PHONE NUMBER</label>
                            <input type="text" id="phone_num" name="phone_num" required>
                        </div>
                    </div>
                    <div class="security_key">
                        <div class="field">
                            <label for="password">PASSWORD</label>
                            <input type="password" id="password" name="password" required>
                            <p class="error lenError" >*Password should at least have 8 charcters</p>
                            <p class="error valError" >*Password do not match</p>
                        </div>
                        <div class="field">
                            <label for="confirm_password">CONFIRM PASSWORD</label>
                            <input type="password" id="confirm_password" required>
                        </div>
                    </div>
                    <button type="submit" class="sendResult">Create Account</button>
                </form>
        </section>
    </main>
    <script>
        const phoneNumber = document.querySelector("#phone_num");
        const password = document.querySelector("#password");
        const confirmPassword = document.querySelector("#confirm_password");
        const submitBtn = document.querySelector('.sendResult');

        const lenErrMsg = document.querySelector('.lenError');
        const valErrMsg = document.querySelector('.valError');

        const signUpForm = document.querySelector("form");

        phoneNumber.addEventListener('keypress',
        function(e) {

            if((e.keyCode < 48) || (e.keyCode > 57) || (phoneNumber.value.length > 9))  {
                e.preventDefault();
            }
        })

        submitBtn.addEventListener('click', function(e)  {
            let passwordVal = password.value;
            let confirmPasswordVal = confirmPassword.value;

            if(passwordVal.length < 8 )   {
                valErrMsg.style.display = "none";
                lenErrMsg.style.display = "block";
                e.preventDefault();

            }
            else if(passwordVal != confirmPasswordVal)  {
                lenErrMsg.style.display = "none";
                valErrMsg.style.display = "block";
                e.preventDefault();
            }
            else    {
                signUpForm.setAttribute("action", "https://httpbin.org/post");
            }
        })

    </script>
</body>
</html>